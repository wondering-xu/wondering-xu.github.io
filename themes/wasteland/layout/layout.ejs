<% function partial(partialPath) { 
  const fs = require('fs');
  const path = require('path');
  const ejs = require('ejs');
  const partialFile = path.join(__dirname, partialPath + '.ejs');
  if (fs.existsSync(partialFile)) {
    const partialTemplate = fs.readFileSync(partialFile, 'utf8');
    return ejs.render(partialTemplate, { page, config });
  }
  return '';
} %>

<% function is_home() { return page.__index || (page.type === 'index' && !page.category && !page.tag); } %>
<% function is_post() { return page.type === 'post' || page.layout === 'post'; } %>
<% function is_page() { return page.type === 'page' || page.layout === 'page'; } %>
<% function is_archive() { return page.type === 'archive' || page.layout === 'archive' || page.__archive; } %>
<% function is_photos() { return page.path && page.path.indexOf('/photos/') === 0; } %>
<% function is_guestbook() { return page.path && page.path.indexOf('/guestbook/') === 0; } %>
<% function is_about() { return page.path && page.path.indexOf('/about/') === 0; } %>
<% function is_search() { return page.path && page.path.indexOf('/search/') === 0; } %>

<!DOCTYPE html>
<html lang="<%= config.language || 'zh-CN' %>">
  <!-- Head tag -->
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Title -->
  
  <title><% if (page.title) { %><%= page.title %> - <% } %><%= config.title %></title>

  <!--Favicon-->
  <link rel="icon" href="/favicon/favicon.ico">

  <!--Description-->
  
  <% if (page.description) { %>
      <meta name="description" content="<%= page.description %>">
  <% } %>
  

  <!--Author-->
  
      <meta name="<%= config.author %>" content="John Doe">
  

  <!-- Pure CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Crimson+Text|Open+Sans:300,800" rel="stylesheet">

  <!-- Custom CSS -->
  
<link rel="stylesheet" href="/css/styles.css?v=footer-2">


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Google Analytics -->
  

<meta name="generator" content="Hexo 7.3.0">
  <% if (page.background) { %>
  <style>:root{--page-bg:url('<%= page.background %>');--page-bg-repeat:repeat;--page-bg-size:auto}</style>
  <% } %>
</head>


  <body>
      <div class="container-fluid navbar-container m-sm-5">
      <!-- Header -->
      <nav class="navbar navbar-toggleable-sm navbar-light px-1 py-3 my-3 mb-sm-5">
  <a class="navbar-brand ml-2" href="/"><%= config.title %></a>
  <button class="navbar-toggler navbar-toggler-right py-2" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse text-center" id="navbarCollapse">
    <ul class="navbar-nav my-auto">
      <li class="nav-item">
        <a class="nav-link <% if (is_home()) { %>active<% } %>" href="/" <% if (is_home()) { %>aria-current="page"<% } %> title="随心记">随心记</a>
      </li>
      <li class="nav-item">
        <a class="nav-link <% if (is_photos()) { %>active<% } %>" href="/photos/" <% if (is_photos()) { %>aria-current="page"<% } %> title="摄影集">摄影集</a>
      </li>
      <li class="nav-item">
        <a class="nav-link <% if (is_guestbook()) { %>active<% } %>" href="/guestbook/" <% if (is_guestbook()) { %>aria-current="page"<% } %> title="留言墙">留言墙</a>
      </li>
      <li class="nav-item">
        <a class="nav-link <% if (is_about()) { %>active<% } %>" href="/about/" <% if (is_about()) { %>aria-current="page"<% } %> title="空白页">空白页</a>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto my-auto">
      <li class="nav-item">
        <a class="nav-link nav-search" href="/search/" title="搜索" aria-label="搜索">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
          <span class="d-none d-sm-inline"> 搜索</span>
        </a>
      </li>
    </ul>
    <hr class="hidden-md-up" />
  </div>
</nav>

          <%- body %>
      
      </div>

    <!-- After footer scripts -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<% if (is_home() || is_post()) { %>
<script src="/js/cover.js?v=post-card-overlay-20251022"></script>
<% } %>
<% if (is_photos()) { %>
<script src="/photos/photos.js?v=content-refresh-20250215"></script>
<div class="photo-lightbox" aria-hidden="true" role="dialog" aria-modal="true">
  <button type="button" class="lightbox-close" data-lightbox-close aria-label="关闭查看">×</button>
  <div class="lightbox-body">
    <img src="" alt="" class="lightbox-image" decoding="async" />
    <p class="lightbox-caption" hidden></p>
  </div>
</div>
<% } %>

   </body>
</html>